<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [gundb-extend][1]
-   [getEmailErrorMessage][2]
    -   [Parameters][3]
-   [getMobileErrorMessage][4]
    -   [Parameters][5]
    -   [Parameters][6]
-   [getReceiveDataFromReceipt][7]
    -   [Parameters][8]
    -   [Parameters][9]
-   [init][10]
-   [getFeedItemByTransactionHash][11]
    -   [Parameters][12]
-   [getAllFeed][13]
-   [getProfileFieldValue][14]
    -   [Parameters][15]
-   [getProfileField][16]
    -   [Parameters][17]
-   [getDisplayProfile][18]
    -   [Parameters][19]
-   [getPrivateProfile][20]
    -   [Parameters][21]
-   [setProfile][22]
    -   [Parameters][23]
-   [setProfileField][24]
    -   [Parameters][25]
-   [indexProfileField][26]
    -   [Parameters][27]
-   [setProfileFieldPrivacy][28]
    -   [Parameters][29]
-   [getFeedPage][30]
    -   [Parameters][31]
-   [getFormattedEvents][32]
    -   [Parameters][33]
-   [getUserAddress][34]
    -   [Parameters][35]
-   [getUserProfile][36]
    -   [Parameters][37]
-   [formatEvent][38]
    -   [Parameters][39]
-   [enqueueTX][40]
    -   [Parameters][41]
-   [dequeueTX][42]
    -   [Parameters][43]
-   [peekTX][44]
    -   [Parameters][45]
-   [updateFeedEvent][46]
    -   [Parameters][47]
-   [getLastBlockNode][48]
-   [saveLastBlockNumber][49]
    -   [Parameters][50]
-   [maskField][51]
    -   [Parameters][52]

## gundb-extend

extend gundb SEA with decrypt to match ".secret"

## getEmailErrorMessage

Returns email error message after running some validations

### Parameters

-   `email` **[string][53]** email value

Returns **[string][53]** Email error message if invalid, or empty string

## getMobileErrorMessage

Returns mobile error message after running some validations

### Parameters

-   `mobile` **[string][53]** mobile value

Returns **[string][53]** Mobile error message if invalid, or empty string

## 

Returns an object with record attributes plus some methods to validate, getErrors and check if it is valid

### Parameters

-   `record` **UserRecord** User record

Returns **UserModel** User model with some available methods

## getReceiveDataFromReceipt

Extracts transfer events sent to the current account

### Parameters

-   `receipt` **[object][54]** Receipt event

Returns **[object][54]** {transferLog: event: [{evtName: evtValue}]}

## 

Clean string removing blank spaces and special characters, and converts to lower case

### Parameters

-   `field` **[string][53]** Field name
-   `value` **[string][53]** Field value

Returns **[string][53]** Value without '+' (plus), '-' (minus), '\_' (underscore), ' ' (space), in lower case

## init

Initialize wallet, gundb user, feed and subscribe to events

## getFeedItemByTransactionHash

Find feed by transaction hash in array, and returns feed object

### Parameters

-   `transactionHash` **[string][53]** transaction identifier

Returns **[object][54]** feed item or null if it doesn't exist

## getAllFeed

Returns a Promise that, when resolved, will have all the feeds available for the current user

Returns **[Promise][55]&lt;[Array][56]&lt;FeedEvent>>** 

## getProfileFieldValue

Returns profile attribute

### Parameters

-   `field` **[string][53]** Profile attribute

Returns **[string][53]** Decrypted profile value

## getProfileField

Returns progfile attribute value

### Parameters

-   `field` **[string][53]** Profile attribute

Returns **[Promise][55]** Gun profile attribute object

## getDisplayProfile

Return display attribute of each profile property

### Parameters

-   `profile` **[object][54]** User profile

Returns **[object][54]** User model with display values

## getPrivateProfile

Returns user model with attribute values

### Parameters

-   `profile` **[object][54]** user profile

Returns **[object][54]** UserModel with some inherit functions

## setProfile

Save profile with all validations and indexes
It saves only known profile fields

### Parameters

-   `profile` **UserModel** User profile


-   Throws **any** Error if profile is invalid

Returns **[Promise][55]** Promise with profile settings updates and privacy validations

## setProfileField

Set profile field with privacy settings

### Parameters

-   `field` **[string][53]** Profile attribute
-   `value` **[string][53]** Profile attribute value
-   `privacy` **[string][53]** (private | public | masked) (optional, default `'public'`)

Returns **[Promise][55]** Promise with updated field value, secret, display and privacy.

## indexProfileField

Generates index by field if privacy is public, or empty index if it's not public

### Parameters

-   `field` **[string][53]** Profile attribute
-   `value` **[string][53]** Profile attribute value
-   `privacy` **[string][53]** (private | public | masked)

Returns **[Promise][55]&lt;ACK>** Gun result promise after index is generated

## setProfileFieldPrivacy

Set profile field privacy.

### Parameters

-   `field` **[string][53]** Profile attribute
-   `privacy` **[string][53]** (private | public | masked)

Returns **[Promise][55]** Promise with updated field value, secret, display and privacy.

## getFeedPage

Returns the next page in feed. could contain more than numResults. each page will contain all of the transactions
of the last day fetched even if > numResults

### Parameters

-   `numResults` **[number][57]** return at least this number of results if available
-   `reset` **[boolean][58]** should restart cursor (optional, default `false`)

Returns **[Promise][55]** Promise with an array of feed events

## getFormattedEvents

Return all feed events

### Parameters

-   `numResults` **[number][57]** 
-   `reset` **[boolean][58]** 

Returns **[Promise][55]** Promise with array of standarised feed events

## getUserAddress

### Parameters

-   `field` **[string][53]** Profile field value (email, mobile or wallet address value)

Returns **[string][53]** address

## getUserProfile

Returns name and avatar from profile based filtered by received value

### Parameters

-   `field` **[string][53]** Profile field value (email, mobile or wallet address value)

Returns **[object][54]** profile - { name, avatar }

## formatEvent

Returns the feed in a standard format to be loaded in feed list and modal

### Parameters

-   `param` **FeedEvent** Feed event with data, type, date and id props
    -   `param.data`  
    -   `param.type`  
    -   `param.date`  
    -   `param.id`  

Returns **[Promise][55]** Promise with StandardFeed object,
 with props { id, date, type, data: { amount, message, endpoint: { address, fullName, avatar, withdrawStatus }}}

## enqueueTX

enqueue a new pending TX done on DAPP, to be later merged with the blockchain tx
the DAPP event can contain more details than the blockchain tx event

### Parameters

-   `event` **FeedEvent** 

Returns **[Promise][55]&lt;>** 

## dequeueTX

remove and return pending TX

### Parameters

-   `eventId` **[string][53]** 
-   `event` **any** 

Returns **[Promise][55]&lt;FeedEvent>** 

## peekTX

lookup a pending tx

### Parameters

-   `eventId` **[string][53]** 

Returns **[Promise][55]&lt;FeedEvent>** 

## updateFeedEvent

Update feed event

### Parameters

-   `event` **FeedEvent** Event to be updated

Returns **[Promise][55]** Promise with updated feed

## getLastBlockNode

Returns the 'lastBlock' gun's node

Returns **any** 

## saveLastBlockNumber

Saves block number in the 'lastBlock' node

### Parameters

-   `blockNumber` **([number][57] \| [string][53])** 

Returns **[Promise][55]&lt;([Promise][55]&lt;any> | [Promise][55]&lt;(R | any)>)>** 

## maskField

Returns phone with last 4 numbers, and before that \*\*\*,
and hide email user characters leaving visible only first and last character

### Parameters

-   `fieldType` **[string][53]** (Email, mobile or phone) Field name
-   `value` **[string][53]** Field value

Returns **[string][53]** Returns masked value with \*\*\* to hide characters

[1]: #gundb-extend

[2]: #getemailerrormessage

[3]: #parameters

[4]: #getmobileerrormessage

[5]: #parameters-1

[6]: #parameters-2

[7]: #getreceivedatafromreceipt

[8]: #parameters-3

[9]: #parameters-4

[10]: #init

[11]: #getfeeditembytransactionhash

[12]: #parameters-5

[13]: #getallfeed

[14]: #getprofilefieldvalue

[15]: #parameters-6

[16]: #getprofilefield

[17]: #parameters-7

[18]: #getdisplayprofile

[19]: #parameters-8

[20]: #getprivateprofile

[21]: #parameters-9

[22]: #setprofile

[23]: #parameters-10

[24]: #setprofilefield

[25]: #parameters-11

[26]: #indexprofilefield

[27]: #parameters-12

[28]: #setprofilefieldprivacy

[29]: #parameters-13

[30]: #getfeedpage

[31]: #parameters-14

[32]: #getformattedevents

[33]: #parameters-15

[34]: #getuseraddress

[35]: #parameters-16

[36]: #getuserprofile

[37]: #parameters-17

[38]: #formatevent

[39]: #parameters-18

[40]: #enqueuetx

[41]: #parameters-19

[42]: #dequeuetx

[43]: #parameters-20

[44]: #peektx

[45]: #parameters-21

[46]: #updatefeedevent

[47]: #parameters-22

[48]: #getlastblocknode

[49]: #savelastblocknumber

[50]: #parameters-23

[51]: #maskfield

[52]: #parameters-24

[53]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[54]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[55]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise

[56]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array

[57]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number

[58]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean
