<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [gundb-extend][1]
-   [getEmailErrorMessage][2]
    -   [Parameters][3]
-   [getMobileErrorMessage][4]
    -   [Parameters][5]
    -   [Parameters][6]
-   [getReceiveDataFromReceipt][7]
    -   [Parameters][8]
    -   [Parameters][9]
-   [init][10]
-   [getFeedItemByTransactionHash][11]
    -   [Parameters][12]
-   [getAllFeed][13]
-   [getProfileFieldValue][14]
    -   [Parameters][15]
-   [getProfileField][16]
    -   [Parameters][17]
-   [getDisplayProfile][18]
    -   [Parameters][19]
-   [getPrivateProfile][20]
    -   [Parameters][21]
-   [setProfile][22]
    -   [Parameters][23]
-   [setProfileField][24]
    -   [Parameters][25]
-   [indexProfileField][26]
    -   [Parameters][27]
-   [setProfileFieldPrivacy][28]
    -   [Parameters][29]
-   [getFeedPage][30]
    -   [Parameters][31]
-   [getStandardizedFeed][32]
    -   [Parameters][33]
-   [getUserAddress][34]
    -   [Parameters][35]
-   [getUserProfile][36]
    -   [Parameters][37]
-   [standardizeFeed][38]
    -   [Parameters][39]
-   [updateFeedEvent][40]
    -   [Parameters][41]
-   [getLastBlockNode][42]
-   [saveLastBlockNumber][43]
    -   [Parameters][44]
-   [maskField][45]
    -   [Parameters][46]

## gundb-extend

extend gundb SEA with decrypt to match ".secret"

## getEmailErrorMessage

Returns email error message after running some validations

### Parameters

-   `email` **[string][47]** email value

Returns **[string][47]** Email error message if invalid, or empty string

## getMobileErrorMessage

Returns mobile error message after running some validations

### Parameters

-   `mobile` **[string][47]** mobile value

Returns **[string][47]** Mobile error message if invalid, or empty string

## 

Returns an object with record attributes plus some methods to validate, getErrors and check if it is valid

### Parameters

-   `record` **UserRecord** User record

Returns **UserModel** User model with some available methods

## getReceiveDataFromReceipt

Extracts transfer events sent to the current account

### Parameters

-   `account` **[string][47]** Wallet account
-   `receipt` **[object][48]** Receipt event

Returns **[object][48]** {transferLog: event: [{evtName: evtValue}]}

## 

Clean string removing blank spaces and special characters, and converts to lower case

### Parameters

-   `field` **[string][47]** Field name
-   `value` **[string][47]** Field value

Returns **[string][47]** Value without '+' (plus), '-' (minus), '\_' (underscore), ' ' (space), in lower case

## init

Initialize wallet, gundb user, feed and subscribe to events

## getFeedItemByTransactionHash

Find feed by transaction hash in array, and returns feed object

### Parameters

-   `transactionHash` **[string][47]** transaction identifier

Returns **[object][48]** feed item or null if it doesn't exist

## getAllFeed

Returns a Promise that, when resolved, will have all the feeds available for the current user

Returns **[Promise][49]&lt;[Array][50]&lt;FeedEvent>>** 

## getProfileFieldValue

Returns profile attribute

### Parameters

-   `field` **[string][47]** Profile attribute

Returns **[string][47]** Decrypted profile value

## getProfileField

Returns progfile attribute value

### Parameters

-   `field` **[string][47]** Profile attribute

Returns **[Promise][49]** Gun profile attribute object

## getDisplayProfile

Return display attribute of each profile property

### Parameters

-   `profile` **[object][48]** User profile

Returns **[object][48]** User model with display values

## getPrivateProfile

Returns user model with attribute values

### Parameters

-   `profile` **[object][48]** user profile

Returns **[object][48]** UserModel with some inherit functions

## setProfile

Save profile with all validations and indexes

### Parameters

-   `profile` **UserModel** User profile


-   Throws **any** Error if profile is invalid

Returns **[Promise][49]** Promise with profile settings updates and privacy validations

## setProfileField

Set profile field with privacy settings

### Parameters

-   `field` **[string][47]** Profile attribute
-   `value` **[string][47]** Profile attribute value
-   `privacy` **[string][47]** (private | public | masked)

Returns **[Promise][49]** Promise with updated field value, secret, display and privacy.

## indexProfileField

Generates index by field if privacy is public, or empty index if it's not public

### Parameters

-   `field` **[string][47]** Profile attribute
-   `value` **[string][47]** Profile attribute value
-   `privacy` **[string][47]** (private | public | masked)

Returns **[Promise][49]&lt;ACK>** Gun result promise after index is generated

## setProfileFieldPrivacy

Set profile field privacy.

### Parameters

-   `field` **[string][47]** Profile attribute
-   `privacy` **[string][47]** (private | public | masked)

Returns **[Promise][49]** Promise with updated field value, secret, display and privacy.

## getFeedPage

Returns the next page in feed. could contain more than numResults. each page will contain all of the transactions
of the last day fetched even if > numResults

### Parameters

-   `numResults` **[number][51]** return at least this number of results if available
-   `reset` **[boolean][52]** should restart cursor (optional, default `false`)

Returns **[Promise][49]** Promise with an array of feed events

## getStandardizedFeed

Return all feed events

### Parameters

-   `numResults` **[number][51]** 
-   `reset` **[boolean][52]** 

Returns **[Promise][49]** Promise with array of standarised feed events

## getUserAddress

### Parameters

-   `field` **[string][47]** Profile field value (email, mobile or wallet address value)

Returns **[string][47]** address

## getUserProfile

Returns name and avatar from profile based filtered by received value

### Parameters

-   `field` **[string][47]** Profile field value (email, mobile or wallet address value)

Returns **[object][48]** profile - { name, avatar }

## standardizeFeed

Returns the feed in a standard format to be loaded in feed list and modal

### Parameters

-   `param` **FeedEvent** Feed event with data, type, date and id props
    -   `param.data`  
    -   `param.type`  
    -   `param.date`  
    -   `param.id`  

Returns **[Promise][49]** Promise with StandardFeed object,
 with props { id, date, type, data: { amount, message, endpoint: { address, fullName, avatar, withdrawStatus }}}

## updateFeedEvent

Update feed event

### Parameters

-   `event` **FeedEvent** Event to be updated

Returns **[Promise][49]** Promise with updated feed

## getLastBlockNode

Returns the 'lastBlock' gun's node

Returns **any** 

## saveLastBlockNumber

Saves block number in the 'lastBlock' node

### Parameters

-   `blockNumber` **([number][51] \| [string][47])** 

Returns **[Promise][49]&lt;([Promise][49]&lt;any> | [Promise][49]&lt;(R | any)>)>** 

## maskField

Returns phone with last 4 numbers, and before that \*\*\*,
and hide email user characters leaving visible only first and last character

### Parameters

-   `fieldType` **[string][47]** (Email, mobile or phone) Field name
-   `value` **[string][47]** Field value

Returns **[string][47]** Returns masked value with \*\*\* to hide characters

[1]: #gundb-extend

[2]: #getemailerrormessage

[3]: #parameters

[4]: #getmobileerrormessage

[5]: #parameters-1

[6]: #parameters-2

[7]: #getreceivedatafromreceipt

[8]: #parameters-3

[9]: #parameters-4

[10]: #init

[11]: #getfeeditembytransactionhash

[12]: #parameters-5

[13]: #getallfeed

[14]: #getprofilefieldvalue

[15]: #parameters-6

[16]: #getprofilefield

[17]: #parameters-7

[18]: #getdisplayprofile

[19]: #parameters-8

[20]: #getprivateprofile

[21]: #parameters-9

[22]: #setprofile

[23]: #parameters-10

[24]: #setprofilefield

[25]: #parameters-11

[26]: #indexprofilefield

[27]: #parameters-12

[28]: #setprofilefieldprivacy

[29]: #parameters-13

[30]: #getfeedpage

[31]: #parameters-14

[32]: #getstandardizedfeed

[33]: #parameters-15

[34]: #getuseraddress

[35]: #parameters-16

[36]: #getuserprofile

[37]: #parameters-17

[38]: #standardizefeed

[39]: #parameters-18

[40]: #updatefeedevent

[41]: #parameters-19

[42]: #getlastblocknode

[43]: #savelastblocknumber

[44]: #parameters-20

[45]: #maskfield

[46]: #parameters-21

[47]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[48]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[49]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise

[50]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array

[51]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number

[52]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean
