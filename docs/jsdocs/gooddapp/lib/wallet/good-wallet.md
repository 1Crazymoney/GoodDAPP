<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [QueryEvent][1]
    -   [Properties][2]
-   [listenTxUpdates][3]
    -   [Parameters][4]
-   [subscribeToEvent][5]
    -   [Parameters][6]
-   [unSubscribeToTx][7]
    -   [Parameters][8]
-   [getSubscribers][9]
    -   [Parameters][10]
-   [balanceChanged][11]
    -   [Parameters][12]
-   [getBlockNumber][13]
-   [getEvents][14]
    -   [Parameters][15]
-   [oneTimeEvents][16]
    -   [Parameters][17]
-   [pollForEvents][18]
    -   [Parameters][19]
-   [sendTransaction][20]
    -   [Parameters][21]

## QueryEvent

the HDWallet account to use.
we use different accounts for different actions in order to preserve privacy and simplify things for user
in background

Type: {event: [string][22], contract: Web3.eth.Contract, filterPred: {}, fromBlock: any, toBlock: (any | `"latest"`)?}

### Properties

-   `event` **[string][22]** 
-   `contract` **Web3.eth.Contract** 
-   `filterPred` **{}** 
-   `fromBlock` **any** 
-   `toBlock` **(any | `"latest"`)?** 

## listenTxUpdates

Subscribes to Transfer events (from and to) the current account
This is used to verify account balance changes

### Parameters

-   `fromBlock` **[string][22]** defaultValue: '0'

Returns **([Promise][23]&lt;R> | [Promise][23]&lt;(R | any)> | [Promise][23]&lt;any>)** 

## subscribeToEvent

returns {object} id+eventName so consumer can unsubscribe

### Parameters

-   `eventName` **[string][22]** 
-   `cb` **[Function][24]** 

## unSubscribeToTx

removes subscriber from subscriber list

### Parameters

-   `event` **[event][25]** 
    -   `event.eventName`  
    -   `event.id`  

## getSubscribers

Gets all subscribers as array for given eventName

### Parameters

-   `eventName` **[string][22]** 

Returns **[Function][24]** 

## balanceChanged

Listen to balance changes for the current account

### Parameters

-   `cb` **[Function][24]** 

Returns **[Promise][23]&lt;void>** 

## getBlockNumber

Retrieves current Block Number and returns it as converted to a BN instance

Returns **[Promise][23]&lt;BN>** Current block number in BN instance

## getEvents

Client side event filter. Requests all events for a particular contract, then filters them and returns the event Object

### Parameters

-   `$0` **any** 
    -   `$0.event`  
    -   `$0.contract`  
    -   `$0.filterPred`  
    -   `$0.fromBlock`   (optional, default `ZERO`)
    -   `$0.toBlock`  
-   `event` **[String][22]** Event to subscribe to
-   `contract` **[Object][26]** Contract from which event will be queried
-   `filterPred` **[Object][26]** Event's filter. Does not required to be indexed as it's filtered locally
-   `fromBlock` **BN** Lower blocks range value
-   `toBlock` **BN** Higher blocks range value

Returns **[Promise][23]&lt;any>** 

## oneTimeEvents

Subscribes to a particular event and returns the result based on options specified

### Parameters

-   `$0` **any** 
    -   `$0.event`  
    -   `$0.contract`  
    -   `$0.filterPred`  
    -   `$0.fromBlock`  
    -   `$0.toBlock`  
-   `callback` **[Function][24]** Function to be called once an event is received
-   `event` **[String][22]** Event to subscribe to
-   `contract` **[Object][26]** Contract from which event will be queried
-   `filterPred` **[Object][26]** Event's filter. Does not required to be indexed as it's filtered locally
-   `fromBlock` **BN** Lower blocks range value
-   `toBlock` **BN** Higher blocks range value

Returns **[Promise][23]&lt;void>** 

## pollForEvents

Polls for events every INTERVAL defined by BLOCK_TIME and BLOCK_COUNT, the result is based on specified options
It queries the range 'fromBlock'-'toBlock' and then continues querying the blockchain for most recent events, from
the 'lastProcessedBlock' to the 'latest' every INTERVAL

### Parameters

-   `$0` **any** 
    -   `$0.event`  
    -   `$0.contract`  
    -   `$0.filterPred`  
    -   `$0.fromBlock`  
    -   `$0.toBlock`  
-   `callback` **[Function][24]** Function to be called once an event is received
-   `event` **[String][22]** Event to subscribe to
-   `contract` **[Object][26]** Contract from which event will be queried
-   `filterPred` **[Object][26]** Event's filter. Does not required to be indexed as it's filtered locally
-   `fromBlock` **BN** Lower blocks range value
-   `toBlock` **BN** Higher blocks range value
-   `lastProcessedBlock` **BN** Used for recursion. It's not required to be set by the user. Initial value: ZERO

Returns **[Promise][23]&lt;void>** 

## sendTransaction

Helper function to handle a tx Send call

### Parameters

-   `tx` **any** 
-   `txCallbacks` **PromiEvents**  (optional, default `defaultPromiEvents`)
-   `gasValues` **[object][26]**  (optional, default `{gas:undefined,gasPrice:undefined}`)
    -   `gasValues.gas` **[number][27]** 
    -   `gasValues.gasPrice` **[number][27]** 
-   `promiEvents` **[object][26]** 
    -   `promiEvents.onTransactionHash` **[function][24]** 
    -   `promiEvents.onReceipt` **[function][24]** 
    -   `promiEvents.onConfirmation` **[function][24]** 
    -   `promiEvents.onError` **[function][24]** 

Returns **[Promise][23]&lt;([Promise][23] | Q.Promise&lt;any> | [Promise][23]&lt;any> | [Promise][23]&lt;any> | [Promise][23]&lt;any> | any)>** 

## 

receipt handling happens already in polling events

[1]: #queryevent

[2]: #properties

[3]: #listentxupdates

[4]: #parameters

[5]: #subscribetoevent

[6]: #parameters-1

[7]: #unsubscribetotx

[8]: #parameters-2

[9]: #getsubscribers

[10]: #parameters-3

[11]: #balancechanged

[12]: #parameters-4

[13]: #getblocknumber

[14]: #getevents

[15]: #parameters-5

[16]: #onetimeevents

[17]: #parameters-6

[18]: #pollforevents

[19]: #parameters-7

[20]: #sendtransaction

[21]: #parameters-8

[22]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[23]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise

[24]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function

[25]: https://developer.mozilla.org/docs/Web/API/Event

[26]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[27]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number
## Source
[https://github.com/GoodDollar/GoodDAPPsrc/lib/wallet/GoodWallet.js](https://github.com/GoodDollar/GoodDAPPsrc/lib/wallet/GoodWallet.js)

